# Environment Variables for Deployment

# Database (PostgreSQL)
DB_URL=jdbc:postgresql://<your-db-host>:5432/muse-auth
DB_USERNAME=postgres
DB_PASSWORD=prasanth
# Connection Pool Settings (Per Service)
# For 100k users, start with 20-30. Ensure your DB can handle (Pool Size * Number of Instances) connections.
DB_MAX_POOL_SIZE=20
DB_MIN_IDLE=20

# JWT Secrets (Generate these using `openssl rand -base64 32` or similar)
# MUST be the same across both Auth and Notes services
JWT_SECRET=<random-32-char-string>
JWT_ACCESS_SECRET=<random-32-char-string>
JWT_REFRESH_SECRET=<random-32-char-string>

# Service URLs
# The URL where the frontend is hosted
FRONTEND_BASE_URL=https://your-domain.com
# The URL where the Auth Service is reachable by the Notes Service
AUTH_SERVICE_URL=http://muse-auth-service:8081
# The Issuer URI (usually the public URL of the Auth Service)
JWT_ISSUER_URI=https://your-domain.com/api/auth

# External APIs
# Get this from Google AI Studio
GEMINI_API_KEY=<your-gemini-api-key>
# Get this from SendGrid
SENDGRID_API_KEY=<your-sendgrid-api-key>
SENDER_EMAIL_ADDRESS=noreply@your-domain.com

# ========================================
# KEYCLOAK SSO CONFIGURATION
# ========================================
# Admin password for Keycloak console
KEYCLOAK_ADMIN_PASSWORD=<secure-admin-password>
# Keycloak issuer URI (for JWT validation)
KEYCLOAK_ISSUER_URI=http://localhost:8080/realms/ilai
# Keycloak JWKS endpoint (RS256 public keys)
KEYCLOAK_JWKS_URI=http://localhost:8080/realms/ilai/protocol/openid-connect/certs

# Google OAuth2 (for Keycloak identity provider)
GOOGLE_CLIENT_ID=<your-google-client-id>
GOOGLE_CLIENT_SECRET=<your-google-client-secret>

# ========================================
# FRONTEND CONFIGURATION
# ========================================
# Auth mode: 'keycloak' for SSO, 'custom' for built-in auth
VITE_AUTH_MODE=custom
VITE_KEYCLOAK_URL=http://localhost:8080
VITE_KEYCLOAK_REALM=ilai
VITE_KEYCLOAK_CLIENT_ID=ilai-frontend

# ========================================
# SECURITY SETTINGS
# ========================================
# Enable email verification (true for production)
EMAIL_VERIFICATION_ENABLED=true
